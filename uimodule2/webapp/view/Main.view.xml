<mvc:View
    controllerName="com.ah.uimodule2.controller.Main"
xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.uxap"
	xmlns:m="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:forms="sap.ui.layout.form"
    xmlns:t="sap.ui.table"
	height="100%">

	<ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false">
		<headerTitle>
			<ObjectPageDynamicHeaderTitle>
				<expandedHeading>
					<m:Title text="{portfolio>/name}" />
				</expandedHeading>

				<snappedHeading>
                    <m:VBox>
                        <m:Title text="{portfolio>/name}" />
                        <m:Text text="{portfolio>/jobFunction}" />
                    </m:VBox>
				</snappedHeading>

				<expandedContent>
					<m:Text text="{portfolio>/jobFunction}" />
				</expandedContent>

				<snappedTitleOnMobile>
					<m:Title text="{portfolio>/name}" />
				</snappedTitleOnMobile>

			</ObjectPageDynamicHeaderTitle>
		</headerTitle>

		<headerContent>
			<m:FlexBox wrap="Wrap" fitContainer="true">

				<m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
					<m:Title text="Email" class="sapUiTinyMarginBottom" />
					<m:ObjectStatus text="{portfolio>/email}" state="Success" class="sapMObjectStatusLarge" />
				</m:VBox>

				<m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
					<m:Title text="Phone" class="sapUiTinyMarginBottom" />
					<m:ObjectStatus text="{portfolio>/phone}" state="Success" class="sapMObjectStatusLarge" />
				</m:VBox>

				<m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
					<m:Title text="Company" class="sapUiTinyMarginBottom" />
					<m:ObjectStatus text="{portfolio>/company}" state="Error" class="sapMObjectStatusLarge" />
				</m:VBox>

			</m:FlexBox>
		</headerContent>

		<sections>
			<ObjectPageSection titleUppercase="false" title="Education details">
				<subSections>
					<ObjectPageSubSection title="Education details" showTitle="false">
						<blocks>
							<m:Table class="sapUxAPObjectPageSubSectionAlignContent" width="auto" items="{portfolio>/education}">

								<m:columns>
									<m:Column>
										<m:Text text="Institution" />
									</m:Column>
									<m:Column minScreenWidth="Tablet" demandPopin="true">
										<m:Text text="Degree" />
									</m:Column>
									<m:Column minScreenWidth="Tablet" demandPopin="true">
										<m:Text text="Year" />
									</m:Column>
								</m:columns>

								<m:items>
									<m:ColumnListItem>
										<m:Text text="{portfolio>institution}" />
										<m:Text text="{portfolio>degree}" />
										<m:Text text="{portfolio>year}" />
									</m:ColumnListItem>
								</m:items>
							</m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

            <ObjectPageSection titleUppercase="false" title="Courses details">
				<subSections>
					<ObjectPageSubSection title="Courses details" showTitle="false">
						<blocks>
                            <m:FlexBox items="{portfolio>/courses}">
                            	<m:GenericTile
                                    class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                                    header="{portfolio>name}"
                                    subheader="{portfolio>year}">
                                </m:GenericTile>
                            </m:FlexBox>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

			<ObjectPageSection titleUppercase="false" title="Employment details">
				<subSections>
					<ObjectPageSubSection title="Employment details">
						<blocks>
                            <t:TreeTable
                                id="TreeTableBasic"
                                rows="{path:'portfolio>/employments', parameters: {arrayNames:['projects']}}"
                                selectionMode="MultiToggle"
                                enableSelectAll="false">
                                <t:columns>
                                    <t:Column width="13rem">
                                        <m:Label text="Project"/>
                                        <t:template>
                                            <m:Text text="{portfolio>name}"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column width="9rem">
                                        <m:Label text="Type"/>
                                        <t:template>
                                            <m:Text text="{portfolio>type}"/>
                                        </t:template>
                                    </t:Column>
                                </t:columns>
                            </t:TreeTable>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
	</ObjectPageLayout>
</mvc:View>
